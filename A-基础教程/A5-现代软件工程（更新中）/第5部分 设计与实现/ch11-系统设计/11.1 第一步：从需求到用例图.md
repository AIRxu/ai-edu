# 第一步 从需求到用例图

在这一部分中，我们先来复习一下需求分析的基本内容，以便和后面的设计部分无缝连接。

## 11.1.1 应用场景

我们仍然使用 10.2.2 节中的项目的故事为例，来说明一个完整分析、设计过程。为了方便阅读，我们再重复一下这个故事场景。

木头参与的一个真实项目，虽然不怎么大，但是麻雀虽小五脏俱全，服务于客户的系统，无论规模如何，都要全力以赴，谨慎对待。

- 某基金客户想使用热门的深度学习来预测 A 股股票行情走向，所以找到了 MSRA 请求合作。客户将会在每周末上传上一周的股票交易数据，在微软 Azure 上完成存储、处理、预测、输出等一系列过程，然后从 Azure 上下载预测结果。

- 我软的研究员们深入研究了几个月，他们根据股票交易历史数据，在 Azure 上训练了一系列基于神经网络的深度学习模型，存入模型库中。

- 我软的工程师们，会监控客户的上传数据动作，一旦上传结束后，立刻在 Azure 上启动预测流程，调用研究员的模型库，根据最新交易结果进行预测，得到预测结果后，通知客户下载。

- 整个系统要求构建在 Azure 技术架构之上。


## 11.1.2 系统上下文图

先根据应用场景绘制一个系统上下文图，搞清楚系统边界，见图11.1.1。

<div align="center">
<img src="Images/Slide3.JPG"/>
图 11.1.1 - 系统上下文图
</div>

可以看到，这是一个独立的 AI 股票预测系统，要求构建在 Azure 上，周边没有任何其它系统交互，只有两种参与者：甲方（客户）、乙方（研究员、工程师）。当然，对于客户来说，分不清研究员和工程师的职责，也没必要知道。

## 11.1.3 用例图

其次，针对三种参与者绘制用例图。由于此图是给乙方内部看的，所以一定要分清研究员和工程师的职责。见图 11.1.2。

<div align="center">
<img src="Images/Slide4.JPG"/>
图 11.1.2 - 用例图
</div>

我们根据 11.1.1 节的需求描述，把每个参与者（客户、研究员、工程师）的用例图单独画出来，这样可以避免一开始就陷入复杂的逻辑纠缠中。

### 研究员的工作

1. 提交训练代码
2. 模型训练
   - 数据处理
   - 模型组合
3. 模型管理
   - 提取模型
   - 保存模型
   - 发布模型
   - 模型验证

### 工程师的工作

1. 提交预测代码
2. 模型预测
   - 提取模型
   - 验证模型
   - 数据处理
   - 发布结果

### 客户的使用

1. 上传文件
2. 下载文件

## 11.1.4 子系统图

图 10.3.1 的独立数据流图描述了需求分析的结果。
## 10.3.4 子系统图
<div align="center">
<img src="Images/Slide5.JPG"/>
图 10.3.1 - 独立数据流图
</div>

